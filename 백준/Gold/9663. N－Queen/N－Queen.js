// ─────────────────────────────────────────────
// 1. 입력 처리
// ─────────────────────────────────────────────
const fs = require("fs");
const N = Number(fs.readFileSync(0, "utf8").trim());

// ─────────────────────────────────────────────
// 2. 필요한 자료구조 준비
// ─────────────────────────────────────────────
//
// N-Queen 규칙
// - 하나의 행(row)에는 퀸 1개만 둔다.
// - 같은 열(column)에는 둘 수 없다.
// - 같은 대각선(diagonal)에도 둘 수 없다.
//
// 따라서, 현재까지 놓인 퀸들의
//  1) 사용 중인 열
//  2) 사용 중인 ↘ 대각선 (row + col)
//  3) 사용 중인 ↗ 대각선 (row - col + (N - 1))
// 을 기록해두고, 이미 사용 중이면 놓지 않도록 한다.
//

// 각 열(column)에 퀸이 있는지 여부
const colUsed = new Array(N).fill(false);

// ↘ 방향 대각선 (row + col) 인덱스는 0 ~ 2N-2 까지 가능하므로 길이 2N로 잡는다.
const diag1Used = new Array(2 * N).fill(false);

// ↗ 방향 대각선 (row - col + (N - 1)) 인덱스도 0 ~ 2N-2 까지 가능
const diag2Used = new Array(2 * N).fill(false);

// 정답(배치 가능한 경우의 수)을 저장할 변수
let answer = 0;

// ─────────────────────────────────────────────
// 3. 백트래킹(DFS) 함수 정의
// ─────────────────────────────────────────────
//
// row: 현재 몇 번째 행에 퀸을 놓을 차례인지 (0 ~ N-1)
//
// 아이디어:
//  - 한 행에는 퀸 하나만 놓는다고 가정하고,
//    row를 0부터 N-1까지 하나씩 늘려가며 퀸을 놓는다.
//  - 각 행에서 가능한 모든 열을 시도해 본다.
//  - 만약 해당 열/대각선에 이미 퀸이 있으면 스킵한다.
//  - 마지막 행(N-1)까지 모두 유효하게 놓았다면 경우의 수 +1.
//
function dfs(row) {
  // 마지막 행까지 퀸을 모두 놓은 경우
  if (row === N) {
    answer++;
    return;
  }

  // 현재 행(row)에서 0번 열부터 N-1번 열까지 시도
  for (let c = 0; c < N; c++) {
    const d1 = row + c;         // ↘ 대각선 인덱스
    const d2 = row - c + (N - 1); // ↗ 대각선 인덱스

    // 이미 사용 중인 열/대각선이면 놓을 수 없음
    if (colUsed[c] || diag1Used[d1] || diag2Used[d2]) continue;

    // 현재 위치 (row, c)에 퀸을 놓는다고 표시
    colUsed[c] = true;
    diag1Used[d1] = true;
    diag2Used[d2] = true;

    // 다음 행으로 진행
    dfs(row + 1);

    // 백트래킹: 다른 경우를 위해 다시 원상복구
    colUsed[c] = false;
    diag1Used[d1] = false;
    diag2Used[d2] = false;
  }
}

// ─────────────────────────────────────────────
// 4. DFS 시작 및 결과 출력
// ─────────────────────────────────────────────
dfs(0);
console.log(answer);